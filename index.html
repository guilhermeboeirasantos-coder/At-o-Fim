<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./estilo.css">

</head>

<body>
    <main>
        <img src="tela00.jpg" alt="">
        <div class="container">
        <h1>ü¶á A Noite de Gotham: Batman vs. Coringa ü§°</h1>
        <div id="story-text"></div>
        <div class="choices" id="choices-container"></div>
    </div>

    <script>
        // Mapeamento dos Finais (16)
        const FINAIS = {
            "Final 01": "VIT√ìRIA MESTRA: Voc√™ resgata Robin, desativa a bomba e captura o Coringa, restaurando a paz de Gotham por um tempo. Um triunfo da intelig√™ncia.",
            "Final 02": "BOMBA DE DISTRA√á√ÉO: O Coringa escapa na confus√£o da desativa√ß√£o da bomba, mas Robin est√° seguro. Uma vit√≥ria agridoce.",
            "Final 03": "ALIAN√áA PERIGOSA: Robin, afetado pelo g√°s, temporariamente se volta contra voc√™. Voc√™ o imobiliza e cura, mas o Coringa some na cidade.",
            "Final 04": "RISADA FINAL: O Coringa ri ao ser capturado, revelando ter enviado r√©plicas de g√°s t√≥xico por toda Gotham. Voc√™ venceu a luta, mas perdeu a guerra.",
            "Final 05": "O EX√çLIO DO VIL√ÉO: Voc√™ persegue o Coringa at√© o porto e o for√ßa a fugir de Gotham em um navio. Ele est√° fora, mas jura voltar.",
            "Final 06": "O CAOS DA CIDADE: Ao confrontar o Coringa, ele ativa um sinal para seus capangas espalhados. Voc√™ o captura, mas Gotham mergulha no caos.",
            "Final 07": "SACRIF√çCIO SILENCIOSO: Voc√™ usa um dispositivo para desmaiar todos, incluindo Robin e voc√™. Todos est√£o seguros, mas a captura do Coringa falha, pois ele acorda primeiro.",
            "Final 08": "ROBIN NO COMANDO: Robin te surpreende, usando seu treinamento para virar a armadilha contra o Coringa. O Coringa √© preso, e Robin ganha um novo respeito.",
            "Final 09": "O DESAFIO DO ENIGMA: O Enigma (Riddler) entra em cena para 'ajudar', complicando tudo. Voc√™ frustra o plano do Coringa, mas tem um novo inimigo mais irritante.",
            "Final 10": "A REFORMA DO CORINGA: Voc√™ captura o Coringa, mas um raio o atinge no caminho para Arkham, mudando sua personalidade para um cidad√£o comum (e chato).",
            "Final 11": "MIST√âRIO DO PO√áO: Voc√™ encontra uma passagem secreta sob o po√ßo, levando a um esconderijo mais profundo, onde captura a verdadeira mente por tr√°s do plano.",
            "Final 12": "F√öRIA CEGA: Voc√™ ignora o po√ßo, ataca o Coringa e o derrota com facilidade. Ele ri, revelando que aquilo era s√≥ um chamariz. Voc√™ perde tempo valioso.",
            "Final 13": "LIGA DA JUSTI√áA: Voc√™ liga para a Liga, que chega em segundos. O Coringa se rende, entediado pela falta de desafio. Vit√≥ria total, mas sem emo√ß√£o.",
            "Final 14": "MORCEGO SOLIT√ÅRIO: Voc√™ ignora o chamado de Robin, desconfiado de uma armadilha. O Coringa, irritado pela sua covardia percebida, liberta Robin e sai de Gotham.",
            "Final 15": "GUERRA DE GANGUES: Voc√™ intercepta uma mensagem e impede que o Coringa se alie a Duas Caras. Voc√™ o captura, salvando Gotham de uma guerra de gangues.",
            "Final 16": "O NOVO VIL√ÉO: Voc√™ √© pego por uma armadilha e Robin √© for√ßado a te salvar. Ele captura o Coringa e se torna o 'Bat-Robin', decidindo que voc√™ est√° velho demais."
        };

        // Estrutura da hist√≥ria
        const STORY_PAGES = {
            "start": {
                text: "Uma sirene ecoa em Gotham. O Coringa sequestrou Robin e o est√° mantendo no topo de um pr√©dio, amea√ßando detonar uma bomba de g√°s do riso por toda a cidade. Seu comunicador toca: **'Vem brincar, Morceg√£o! Escolha seu caminho!'**",
                choices: [
                    { text: "[1] Usar o Batwing e ir direto ao pr√©dio para o confronto.", nextPage: "confronto_direto" },
                    { text: "[2] Seguir a trilha de pistas do Coringa para entender o plano.", nextPage: "trilha_pistas" }
                ]
            },
            "confronto_direto": {
                text: "Voc√™ chega ao topo do pr√©dio. O Coringa est√° ao lado de Robin, que parece grogue, e aponta para dois pacotes:",
                choices: [
                    { text: "[1] Focar no Coringa e tentar subjug√°-lo rapidamente.", nextPage: "focar_coringa" },
                    { text: "[2] Focar na bomba e tentar desativ√°-la primeiro.", nextPage: "focar_bomba" }
                ]
            },
            "focar_coringa": {
                text: "Voc√™ lan√ßa um Batarang. O Coringa desvia, mas joga Robin em sua dire√ß√£o. Voc√™ tem uma fra√ß√£o de segundo para agir.",
                choices: [
                    { text: "[1] Imobilizar Robin e enfrentar o Coringa (Risco de g√°s).", nextPage: "robin_e_coringa" },
                    { text: "[2] Se afastar do g√°s do riso (Risco de fuga).", nextPage: "afastar_gas" }
                ]
            },
            "robin_e_coringa": {
                text: "Voc√™ agarra Robin e o envolve em sua capa, mas o Coringa aproveita para te mostrar um de seus truques.",
                choices: [
                    { text: "[1] Captur√°-lo imediatamente (Alto risco de armadilha).", nextPage: "Final 04" },
                    { text: "[2] Usar g√°s do sono em todos ao redor.", nextPage: "Final 07" }
                ]
            },
            "afastar_gas": {
                text: "Voc√™ evita o g√°s. O Coringa ri e corre para o beiral do pr√©dio.",
                choices: [
                    { text: "[1] Perseguir o Coringa na fuga.", nextPage: "Final 05" },
                    { text: "[2] Capturar o Coringa antes que ele chegue ao beiral.", nextPage: "Final 06" }
                ]
            },
            "focar_bomba": {
                text: "Voc√™ corre para a bomba, mas Coringa ativa um alarme em seu pulso. Robin come√ßa a tossir, o g√°s est√° perto demais.",
                choices: [
                    { text: "[1] Tentar desativar o mecanismo principal da bomba.", nextPage: "desativar_bomba" },
                    { text: "[2] Deixar Robin desativar, confiando no treinamento dele.", nextPage: "Final 08" }
                ]
            },
            "desativar_bomba": {
                text: "A desativa√ß√£o √© complexa. Voc√™ precisa de foco total.",
                choices: [
                    { text: "[1] Ignorar o Coringa e completar a desativa√ß√£o.", nextPage: "Final 02" },
                    { text: "[2] Usar a for√ßa bruta para destruir a bomba e o Coringa.", nextPage: "Final 01" }
                ]
            },
            "trilha_pistas": {
                text: "Voc√™ desce para a cidade e segue a primeira pista: um bilhete colado em um po√ßo de esgoto. Ele diz: **'O Morcego cai onde a √°gua brilha.'**",
                choices: [
                    { text: "[1] Entrar no po√ßo e seguir a pista (Alto risco de armadilha).", nextPage: "entrar_poco" },
                    { text: "[2] Ligar para Robin (ignorar a armadilha do Coringa).", nextPage: "ligar_robin" }
                ]
            },
            "entrar_poco": {
                text: "O po√ßo √© escuro. Voc√™ encontra uma bifurca√ß√£o. √Ä direita, um brilho verde. √Ä esquerda, ventila√ß√£o de esgoto.",
                choices: [
                    { text: "[1] Investigar o brilho verde (Pode ser o Enigma).", nextPage: "Final 09" },
                    { text: "[2] Seguir os dutos de ventila√ß√£o.", nextPage: "seguir_dutos" }
                ]
            },
            "seguir_dutos": {
                text: "Voc√™ segue os dutos, que levam a um antigo esconderijo do Coringa.",
                choices: [
                    { text: "[1] Investigar o lago subterr√¢neo brilhante.", nextPage: "Final 11" },
                    { text: "[2] Atacar o Coringa no esconderijo (se estiver l√°).", nextPage: "Final 12" }
                ]
            },
            "ligar_robin": {
                text: "Robin atende, mas sua voz est√° estranhamente calma. **'Batman, o Coringa est√° aqui. Eu preciso que voc√™...'** A liga√ß√£o cai.",
                choices: [
                    { text: "[1] Chamar a Liga da Justi√ßa para ajuda imediata.", nextPage: "Final 13" },
                    { text: "[2] Rastrear o sinal de Robin e ir sozinho.", nextPage: "rastrear_sinal" }
                ]
            },
            "rastrear_sinal": {
                text: "O rastreio te leva a um dep√≥sito abandonado. Voc√™ intercepta uma comunica√ß√£o entre o Coringa e outro vil√£o.",
                choices: [
                    { text: "[1] Interromper a comunica√ß√£o e prender o Coringa.", nextPage: "Final 15" },
                    { text: "[2] Usar o rastreador para achar Robin e o Coringa (Pode ser outra armadilha).", nextPage: "Final 16" }
                ]
            },
            // Finais
            "Final 01": { isFinal: true },
            "Final 02": { isFinal: true },
            "Final 03": { isFinal: true },
            "Final 04": { isFinal: true },
            "Final 05": { isFinal: true },
            "Final 06": { isFinal: true },
            "Final 07": { isFinal: true },
            "Final 08": { isFinal: true },
            "Final 09": { isFinal: true },
            "Final 10": { isFinal: true },
            "Final 11": { isFinal: true },
            "Final 12": { isFinal: true },
            "Final 13": { isFinal: true },
            "Final 14": { isFinal: true },
            "Final 15": { isFinal: true },
            "Final 16": { isFinal: true }
        };

        let currentPageId = "start";

        function renderPage() {
            const page = STORY_PAGES[currentPageId];
            const storyTextDiv = document.getElementById('story-text');
            const choicesContainer = document.getElementById('choices-container');

            choicesContainer.innerHTML = '';
            
            // Renderiza o texto (Markdown ** negrito)
            storyTextDiv.innerHTML = page.text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

            if (page.isFinal) {
                // √â um final
                const finalKey = currentPageId;
                storyTextDiv.classList.add('final-result');
                storyTextDiv.innerHTML = `
                    <h2>üèÅ FINAL ENCONTRADO: ${finalKey}</h2>
                    <p>${FINAIS[finalKey]}</p>
                `;
                
                // Bot√£o de reiniciar
                const restartButton = document.createElement('button');
                restartButton.textContent = "üîÅ Reiniciar em Gotham";
                restartButton.classList.add('restart-button');
                restartButton.onclick = () => {
                    storyTextDiv.classList.remove('final-result');
                    currentPageId = "start";
                    renderPage();
                };
                choicesContainer.appendChild(restartButton);

            } else {
                // P√°gina de escolhas
                page.choices.forEach(choice => {
                    const button = document.createElement('button');
                    button.textContent = choice.text;
                    button.onclick = () => {
                        currentPageId = choice.nextPage;
                        renderPage();
                    };
                    choicesContainer.appendChild(button);
                });
            }
        }

        // Inicia a hist√≥ria
        window.onload = renderPage;
    </script>
</body>
</html>