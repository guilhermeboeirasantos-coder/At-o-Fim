<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./estilo.css">

</head>

<body>
    <main>
        <div class="container">
        <h1>üå≥ Aventura: O Artefato Antigo üîÆ</h1>
        <div id="story-text"></div>
        <div class="choices" id="choices-container"></div>
    </div>

    <script>
        // Mapeamento dos Finais para um resumo r√°pido
        const FINAIS = {
            "Final 01": "Guardi√£o da Floresta: Voc√™ decifra o artefato e ganha poderes ancestrais, tornando-se um protetor da natureza.",
            "Final 02": "Portal M√≠stico: Voc√™ viaja para outra dimens√£o, onde se torna um mestre das artes m√°gicas.",
            "Final 03": "Companheiro Leal: A sombra misteriosa vira seu aliado, e juntos descobrem segredos perdidos.",
            "Final 04": "Solitude Fatal: Ao se isolar, voc√™ se perde na floresta, sem encontrar resposta alguma.",
            "Final 05": "Conflito Inesperado: Voc√™ derrota um bando de criaturas e se torna her√≥i local.",
            "Final 06": "Mestre da Sombra: A criatura que o observava o ensina os segredos das sombras e da furtividade.",
            "Final 07": "Dupla Inquebr√°vel: Com seu rival, voc√™s conquistam a Montanha e se tornam lendas na regi√£o.",
            "Final 08": "Desastre nas Alturas: O atalho leva a uma avalanche, mas voc√™s salvam vidas e viram her√≥is.",
            "Final 09": "Monge do Retiro: Ap√≥s meses de medita√ß√£o e treino, voc√™ retorna mais forte para enfrentar seu destino.",
            "Final 10": "O Perigo da Pressa: Sem o preparo adequado, voc√™ falha na cidade e precisa recome√ßar.",
            "Final 11": "Guardi√£o das Cavernas: No fundo da caverna, voc√™ faz um pacto com uma entidade e ganha habilidades raras.",
            "Final 12": "Explorador das Ru√≠nas: Voc√™ segue os ventos e descobre uma t√©cnica m√°gica ancestral.",
            "Final 13": "L√≠der Comunit√°rio: Voc√™ ajuda uma aldeia a repelir invasores, tornando-se um s√≠mbolo de lideran√ßa.",
            "Final 14": "Viagem Solit√°ria: Voc√™ chega √† cidade sem muito, mas percebe que cada passo de sua jornada foi necess√°rio."
        };

        // Estrutura da hist√≥ria
        const STORY_PAGES = {
            "start": {
                text: "Voc√™ se encontra na **[1] Floresta Antiga**, uma terra coberta por √°rvores centen√°rias e uma aura de mist√©rio. Seu objetivo √© **[1] Explorar o lugar e tentar descobrir a origem do artefato** que voc√™ carrega.",
                choices: [
                    { text: "[1] O artefato reage a uma energia desconhecida: Investigar", nextPage: "investigar_artefato" },
                    { text: "[2] O artefato come√ßa a brilhar em sua m√£o: Ignorar", nextPage: "ignorar_brilho" },
                    { text: "[2] Montanha das Sombras", nextPage: "montanha_das_sombras" }
                ]
            },
            "investigar_artefato": {
                text: "Ao investigar, o artefato o guia mais fundo na floresta, reagindo fortemente a uma trilha oculta.",
                choices: [
                    { text: "[1] Seguir a trilha que o artefato indica", nextPage: "Final 01" },
                    { text: "[2] Usar o artefato para ativar um portal", nextPage: "Final 02" }
                ]
            },
            "ignorar_brilho": {
                text: "Voc√™ ignora o brilho, mas uma presen√ßa sombria e misteriosa come√ßa a segui-lo. Voc√™ tem que decidir como reagir a ela.",
                choices: [
                    { text: "[1] Ele o seguiu at√© o fim do caminho, voc√™ aceita a ajuda", nextPage: "Final 03" },
                    { text: "[2] Voc√™ o abandona e tenta continuar sozinho", nextPage: "Final 04" },
                    { text: "[2] Afugentar a presen√ßa estranha que se aproxima", nextPage: "afugentar_presenca" }
                ]
            },
            "afugentar_presenca": {
                text: "Voc√™ tenta afugentar a presen√ßa. Como isso afeta o que est√° ao seu redor?",
                choices: [
                    { text: "[1] O bando aparece, eles n√£o gostam de estranhos", nextPage: "Final 05" },
                    { text: "[2] Eles se afastam, mas uma sombra misteriosa observa voc√™", nextPage: "Final 06" }
                ]
            },
            "montanha_das_sombras": {
                text: "Voc√™ decide ir para a **[2] Montanha das Sombras**. O ar √© frio e rarefeito, e voc√™ se depara com um rival enigm√°tico no seu caminho.",
                choices: [
                    { text: "[1] Enfrentar o desafio de um rival enigm√°tico", nextPage: "enfrentar_rival" },
                    { text: "[2] Evitar o conflito", nextPage: "evitar_conflito" }
                ]
            },
            "enfrentar_rival": {
                text: "O rival para voc√™ na trilha e te testa com um desafio, mas faz uma proposta inesperada.",
                choices: [
                    { text: "[1] O rival te prop√µe uma parceria: Viajar juntos", nextPage: "parceria_rival" },
                    { text: "[2] O rival te desafia, mas voc√™ recusa a parceria", nextPage: "recusar_parceria" }
                ]
            },
            "parceria_rival": {
                text: "Aceitando a parceria, voc√™s precisam decidir como subir a montanha.",
                choices: [
                    { text: "[1] Seguir pelo caminho seguro", nextPage: "Final 07" },
                    { text: "[2] Pegar o atalho arriscado", nextPage: "Final 08" }
                ]
            },
            "recusar_parceria": {
                text: "Voc√™ recusa a oferta e decide focar na sua pr√≥pria jornada.",
                choices: [
                    { text: "[1] Treinar sozinho em um retiro", nextPage: "Final 09" },
                    { text: "[2] Seguir direto para a grande cidade", nextPage: "Final 10" }
                ]
            },
            "evitar_conflito": {
                text: "Voc√™ desvia da trilha principal para evitar o rival e precisa de um novo rumo.",
                choices: [
                    { text: "[1] Entrar em uma caverna profunda", nextPage: "caverna_profunda" },
                    { text: "[2] Procurar uma rota alternativa", nextPage: "rota_alternativa" }
                ]
            },
            "caverna_profunda": {
                text: "Na caverna, voc√™ sente um poder estranho e ouve ecos profundos.",
                choices: [
                    { text: "[1] Investigar uma fonte misteriosa", nextPage: "Final 11" },
                    { text: "[2] Seguir os ecos dos ventos profundos", nextPage: "Final 12" }
                ]
            },
            "rota_alternativa": {
                text: "Ao buscar uma rota, voc√™ encontra uma pequena aldeia em apuros.",
                choices: [
                    { text: "[1] Ajudar uma aldeia em necessidade", nextPage: "Final 13" },
                    { text: "[2] Ignorar e acelerar sua jornada", nextPage: "Final 14" }
                ]
            },
            // Adiciona todas as p√°ginas de Final (Final 01 a Final 14)
            "Final 01": { isFinal: true },
            "Final 02": { isFinal: true },
            "Final 03": { isFinal: true },
            "Final 04": { isFinal: true },
            "Final 05": { isFinal: true },
            "Final 06": { isFinal: true },
            "Final 07": { isFinal: true },
            "Final 08": { isFinal: true },
            "Final 09": { isFinal: true },
            "Final 10": { isFinal: true },
            "Final 11": { isFinal: true },
            "Final 12": { isFinal: true },
            "Final 13": { isFinal: true },
            "Final 14": { isFinal: true }
        };

        let currentPageId = "start";

        function renderPage() {
            const page = STORY_PAGES[currentPageId];
            const storyTextDiv = document.getElementById('story-text');
            const choicesContainer = document.getElementById('choices-container');

            // Limpa o conte√∫do anterior
            choicesContainer.innerHTML = '';
            
            // Renderiza o texto (substituindo o Markdown ** negrito)
            storyTextDiv.innerHTML = page.text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

            if (page.isFinal) {
                // √â um final
                const finalKey = currentPageId;
                storyTextDiv.classList.add('final-result');
                storyTextDiv.innerHTML = `
                    <h2>Parab√©ns! Voc√™ alcan√ßou o ${finalKey}!</h2>
                    <p>${FINAIS[finalKey]}</p>
                `;
                
                // Bot√£o de reiniciar
                const restartButton = document.createElement('button');
                restartButton.textContent = "üîÅ Recome√ßar Aventura";
                restartButton.classList.add('restart-button');
                restartButton.onclick = () => {
                    storyTextDiv.classList.remove('final-result');
                    currentPageId = "start";
                    renderPage();
                };
                choicesContainer.appendChild(restartButton);

            } else {
                // N√£o √© um final (p√°gina de escolhas)
                page.choices.forEach(choice => {
                    const button = document.createElement('button');
                    button.textContent = choice.text;
                    button.onclick = () => {
                        currentPageId = choice.nextPage;
                        renderPage();
                    };
                    choicesContainer.appendChild(button);
                });
            }
        }

        // Inicia a hist√≥ria
        window.onload = renderPage;
    </script>
</body>
</html>